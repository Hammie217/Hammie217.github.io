library IEEE;
use IEEE.STD_LOGIC_1164.ALL;
use IEEE.STD_LOGIC_ARITH.ALL;
use IEEE.STD_LOGIC_UNSIGNED.ALL;


entity AddWithCarry is
    
    Generic ( N : integer := 8 ); -- Number of bits

    Port ( A,B      : in  std_logic_vector(N-1 downto 0);
           CarryIn  : in  std_logic;
           Sum      : out std_logic_vector(N-1 downto 0);
           CarryOut : out std_logic);

end AddWithCarry;




architecture Behavioral of AddWithCarry is

	signal temp : std_logic_vector(N downto 0); -- Note N not N-1

begin

	temp <= ('0' & A) + ('0' & B) + CarryIn;
 
	Sum      <= temp(N-1 downto 0);

	CarryOut <= temp(N);

end Behavioral;
